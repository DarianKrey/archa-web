<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank you | Archa</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500&family=Inter:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root { --cream: #fdfbf7; --charcoal: #1a1a1a; --aegean: #0c2d48; --border: #eceae6; --serif: 'Cormorant Garamond', Georgia, serif; }
        body { font-family: 'Inter', sans-serif; background: var(--cream); color: var(--charcoal); margin: 0; min-height: 100vh; padding: 40px 24px; box-sizing: border-box; }
        .wrap { max-width: 560px; margin: 0 auto; }
        h1 { font-family: var(--serif); font-size: 1.75rem; color: var(--aegean); margin: 0 0 8px; font-weight: 400; }
        .intro { color: #555; line-height: 1.6; margin: 0 0 28px; font-size: 0.95rem; }
        .gallery { display: flex; flex-direction: column; gap: 16px; }
        .gallery-card {
            display: block;
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
            transition: box-shadow 0.2s;
        }
        .gallery-card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .gallery-card .thumb {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 140px;
            background: #f5f4f2;
            font-family: var(--serif);
            font-size: 1rem;
            color: var(--aegean);
        }
        .gallery-card .label {
            padding: 14px 18px;
            font-size: 0.9rem;
            color: var(--aegean);
            font-weight: 500;
        }
        .gallery-card .label:hover { text-decoration: underline; }
        .contact {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
            font-size: 0.9rem;
            color: #555;
            line-height: 1.5;
        }
        .contact a { color: var(--aegean); }
        .back { display: inline-block; margin-top: 24px; color: var(--aegean); text-decoration: none; font-size: 0.9rem; }
        .back:hover { text-decoration: underline; }
    </style>
</head>
<body>
<div class="wrap">
    <h1>Your archive submission</h1>
    <p id="message" class="intro">Loading…</p>
    <div id="gallery" class="gallery"></div>
    <p class="contact" id="contact-line" style="display:none;">If you need to make any changes, please email us at <a href="mailto:xxx@gmail.com" id="contact-email">xxx@gmail.com</a>.</p>
    <a href="index.html" class="back">← Back to Archa</a>
</div>
<script>
(function() {
    var hash = window.location.hash.slice(1);
    if (!hash) {
        document.getElementById('message').textContent = 'No photos to display. Links expire about 60 minutes after submission.';
        document.getElementById('contact-line').style.display = 'block';
        return;
    }
    var urls;
    try {
        urls = JSON.parse(decodeURIComponent(atob(hash)));
    } catch (e) {
        document.getElementById('message').textContent = 'Invalid or expired link. Photo links expire about 60 minutes after submission.';
        document.getElementById('contact-line').style.display = 'block';
        return;
    }
    if (!urls.length) {
        document.getElementById('message').textContent = 'No photos in this submission.';
        document.getElementById('contact-line').style.display = 'block';
        return;
    }
    document.getElementById('message').textContent = 'Your photos are linked below. Click any card to open that photo in a new tab. Links expire about 60 minutes after submission.';
    document.getElementById('contact-line').style.display = 'block';
    var galleryEl = document.getElementById('gallery');
    urls.forEach(function(url, i) {
        var card = document.createElement('a');
        card.href = url;
        card.target = '_blank';
        card.rel = 'noopener';
        card.className = 'gallery-card';
        var thumb = document.createElement('div');
        thumb.className = 'thumb';
        thumb.textContent = 'Photo ' + (i + 1);
        var label = document.createElement('div');
        label.className = 'label';
        label.textContent = 'View photo ' + (i + 1) + ' →';
        card.appendChild(thumb);
        card.appendChild(label);
        galleryEl.appendChild(card);
    });
})();
</script>
</body>
</html>
